<p class="h4 container mx-auto mb-0 text-white bg-titulo rounded-top">MODIFICAR USUARIO
</p>

<div class="container bg-light py-3 rounded-bottom mt-0  shadow">
    <form [formGroup]="fg">

        <div class="row form-group mb-3 mx-auto">
            <label for="buscador" class="col-auto my-auto">Buscar</label>
            <div class="col-md-4 col-sm-8">
                <input type="text" name="buscador" id="buscador" class="form-control" formControlName="busq">
            </div>

        </div>

        <table class="table table-hover" formArrayName="usuarios" *ngIf="usuarios.length>0">
            <caption>Modificar usuarios</caption>
            <thead>
                <tr>
                    <th scope="col">Nombre</th>
                    <th scope="col">Rol</th>
                    <th scope="col">Planificacion</th>
                    <th scope="col">Confirmar</th>

                </tr>
            </thead>

            <tbody *ngFor="let usuario of getUsuarios().controls | filter :searchTerm ; let i = index">
                <tr [formGroupName]="i">
                    <th scope="row">
                        <input type="text" formControlName="nombre" class="form-control" disabled>
                    </th>
                    <td><select class="custom-select" formControlName="rol">
                            <option value="Atleta">Atleta</option>
                            <option value="Entrenador">Entrenador</option>
                        </select></td>
                    <td><select class="custom-select" formControlName="idPlani">
                            <option value="{{planificacion.idPlanificacion}}"
                                *ngFor="let planificacion of planificaciones">
                                {{planificacion.nombre}}
                            </option>
                            <option value="0">Ninguna planificacion</option>
                        </select></td>
                    <td><button class="btn btn-outline-primary" (click)="modificarUsuario(i)">Modificar</button>
                    </td>
                </tr>
            </tbody>

        </table>



        <div *ngIf="usuarios.length==0">
            <h1 class="text-center" style="color:  rgb(139, 29, 29);">Cargando usuarios
            </h1>
        </div>
    </form>
</div>